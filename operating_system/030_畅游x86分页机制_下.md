# 畅游x86分页机制
- 页表映射实验
    - 创建多个页表，可自由切换当前使用的页表
    - 将同一个虚地址映射到不同的物理地址
    - 加载不同的页表，并读取同一个虚拟地址中的内容

    ![](_v_images_/.png)

- 页表映射实验流程图
    ![](_v_images_/.png)

# 编程实验 页表映射实验

- 问题
    如果虚地址映射的实地址是一个函数入口, 那么是否可以进行函数调用？

- 函数的本质
    - 运行时，函数在内存中的表现形式为一段数据
        - 这段数据遵循一定的规则，能够被处理器识别
        - 这段数据具有可执行属性，并且只读不可修改

- 虚地址可映射到函数入口地址
    ![](_v_images_/.png)

-  升级版页表映射实验
    ![](_v_images_/.png)

- 最后的问题
    - 如何在指定物理地址处创建目标函数？？
        - 定义数据段，编写目标函数（函数的本质是数据）
        - 在平坦内存模型下，将目标函数拷贝到指定的物理地址

# 编程实验 页表映射实验 升级版

# 小结
- 对于处理器而言只有数据，有些数据可执行，有些数据只可读写
- 函数的本质一段可执行的只读数据
- 与分页相关的操作
    - 页属性中的 P 位可作为标志位，判断是否需要进行页请求
    - 当需要页请求/页交换时，需要修改页目录或者二级页表
    - 平坦内存模型可用于 加载/移除 物理页
